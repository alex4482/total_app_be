-- Example migration - rename this file by removing .example extension when you need it
-- Format: V{NUMBER}__{description}.sql

-- Example 1: Add a new column
-- ALTER TABLE tenant 
-- ADD COLUMN phone_number VARCHAR(50);

-- Example 2: Add a column with default value
-- ALTER TABLE tenant 
-- ADD COLUMN is_active BOOLEAN DEFAULT true NOT NULL;

-- Example 3: Modify column type
-- ALTER TABLE tenant 
-- ALTER COLUMN email TYPE VARCHAR(255);

-- Example 4: Rename column
-- ALTER TABLE tenant 
-- RENAME COLUMN old_name TO new_name;

-- Example 5: Add index
-- CREATE INDEX idx_tenant_email ON tenant(email);

-- Example 6: Add foreign key
-- ALTER TABLE rental_space 
-- ADD CONSTRAINT fk_rental_space_tenant 
-- FOREIGN KEY (tenant_id) REFERENCES tenant(id);

-- Example 7: Create a new table
-- CREATE TABLE invoice (
--     id BIGSERIAL PRIMARY KEY,
--     invoice_number VARCHAR(50) NOT NULL UNIQUE,
--     tenant_id BIGINT NOT NULL,
--     amount DECIMAL(10,2) NOT NULL,
--     issued_at TIMESTAMP NOT NULL,
--     due_at TIMESTAMP NOT NULL,
--     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
--     CONSTRAINT fk_invoice_tenant FOREIGN KEY (tenant_id) REFERENCES tenant(id)
-- );

-- Example 8: Insert reference data
-- INSERT INTO email_preset (id, name, subject, body) 
-- VALUES (nextval('email_preset_seq'), 'Welcome', 'Welcome to our system', 'Hello {{name}}, welcome!');

-- Example 9: Update existing data
-- UPDATE tenant 
-- SET is_active = true 
-- WHERE is_active IS NULL;

-- Example 10: Drop column (use with caution!)
-- ALTER TABLE tenant 
-- DROP COLUMN IF EXISTS old_column;

-- IMPORTANT: Always test migrations on a copy of production data first!

